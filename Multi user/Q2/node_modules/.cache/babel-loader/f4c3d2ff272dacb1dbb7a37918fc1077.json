{"ast":null,"code":"import _defineProperty from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/myapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/myapp/src/App.js\";\nimport React, { Component } from 'react';\nimport sampleTasks from './tasks1.json';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { Container, Row, Col, ButtonGroup, Button, ListGroup } from 'react-bootstrap';\nimport ViewPanel from './ViewPanel.js';\nimport ActionPanel from './ActionPanel.js'; //import classnames from 'classnames';\n//import Prism from 'prismjs';\n\nimport \"./prism.css\"; //import { HtmlRenderer, Parser } from 'commonmark';\n\nimport { //Container,Row,Col,Jumbotron,\nTabContent, TabPane, Nav, NavItem, NavLink, Dropdown, DropdownItem, DropdownToggle, DropdownMenu, Alert, Progress, //ButtonGroup,Button,\nForm, FormGroup, Label, Input } from 'reactstrap';\nimport 'whatwg-fetch';\nimport config from './config.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      tasks: sampleTasks,\n      curTask: 0,\n      mode: \"view\",\n      activeTab: 0,\n      //tasks:[],\n      loadingTasks: false,\n      addForm: false,\n      error: '',\n      success: false,\n      deleteError: '',\n      deleteSuccess: false,\n      taskName: '',\n      dueDate: '',\n      dueTime: '00:00',\n      status: 'Open',\n      instructions: '',\n      editMode: false\n    };\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this))); //this.showAddForm = this.showAddForm.bind(this);\n\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //Prism.highlightAll();\n      this.setState({\n        loadingTasks: true\n      }); // let url = config.API_URL+'tasks';\n      // fetch(url,{}).then(res => res.json())\n      // .then(json => {\n      //   //console.log('enter',json);\n      //   this.setState({\n      //     tasks: json.tasks,\n      //     loadingTasks:false\n      //   });\n      // }, error =>{\n      //   this.setState({ \n      //     loadingTasks:false,\n      //     error: 'Network error!'  \n      //   });\n      //   console.log('err',error);\n      // });\n    }\n  }, {\n    key: \"taskClick\",\n    value: function taskClick(i) {\n      var curIns = this.state.tasks[this.state.curTask].instructions;\n      this.setState({\n        curTask: i\n      });\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(tab) {\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeTab: tab\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(evt) {\n      this.setState(_defineProperty({}, evt.target.name, evt.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var method = 'POST';\n      var url = config.API_URL + 'tasks/';\n\n      if (this.state.editMode) {\n        method = 'PUT';\n        url = config.API_URL + 'tasks/' + this.state.taskName;\n      }\n\n      this.setState({\n        error: '',\n        success: false\n      });\n      var elements = this.state.tasks.slice();\n\n      if (!this.state.editMode) {\n        elements.push({\n          'task-name': this.state.taskName,\n          'due': this.state.dueDate + 'T' + this.state.dueTime + ':00.000Z',\n          'status': this.state.status,\n          'instructions': this.state.instructions\n        });\n      } else {\n        // this.state.tasks.map(task => {\n        //     if(task[\"task-name\"] === this.state.taskName) {\n        //         //console.log('enter');\n        //         return (\n        //               { \n        //               \"task-name\": this.state.taskName,\n        //               due: this.state.dueDate+'T'+this.state.dueTime+':00.000Z',\n        //               status: this.state.status,\n        //               instructions: this.state.instructions\n        //             }\n        //         )\n        //     }\n        // });\n        var ele = this.state.tasks.filter(function (task) {\n          return _this2.state.taskName !== task[\"task-name\"];\n        });\n        ele.push({\n          \"task-name\": this.state.taskName,\n          due: this.state.dueDate + 'T' + this.state.dueTime + ':00.000Z',\n          status: this.state.status,\n          instructions: this.state.instructions\n        });\n        elements = ele;\n        console.log(this.state.tasks);\n      } // this.setState({\n      //   success: true,\n      //   addForm:false,\n      //   tasks:elements\n      // });\n\n    }\n  }, {\n    key: \"showAddForm\",\n    value: function showAddForm() {\n      this.setState({\n        addForm: !this.state.addForm,\n        editMode: false,\n        taskName: '',\n        dueDate: '',\n        dueTime: '00:00',\n        status: 'Open',\n        instructions: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      //let curTask = this.state.tasks[this.state.activeTab];\n      //let curIns = this.state.tasks[this.state.activeTab].instructions;\n      var that = this;\n      var task = this.state.tasks[this.state.curTask];\n      var listItems = this.state.tasks.map(function (item, i) {\n        if (i === that.state.curTask) {\n          return React.createElement(ListGroup.Item, {\n            key: i,\n            active: true,\n            action: true,\n            onClick: that.taskClick.bind(that, i),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180\n            },\n            __self: this\n          }, item[\"task-name\"]);\n        } else {\n          return React.createElement(ListGroup.Item, {\n            key: i,\n            action: true,\n            onClick: that.taskClick.bind(that, i),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, item[\"task-name\"]);\n        } // return(\n        //   <NavItem key={i}>\n        //     <NavLink\n        //       className={classnames({ active: that.state.activeTab === i })}\n        //       onClick={() => { that.toggle(i); }}\n        //     >\n        //       {item[\"task-name\"]}\n        //     </NavLink>\n        //   </NavItem>\n        // );\n\n      }); // let parser = new Parser()\n      // let renderer = new HtmlRenderer()\n      // let currentIns = renderer.render(parser.parse(this.state.instructions));\n      // let synHtml = Prism.highlight(currentIns, Prism.languages.markup, 'markup');\n      // let listTabs=this.state.tasks.map(function(item,i){\n      //   let ins = renderer.render(parser.parse(item.instructions));\n      //   let active = '';\n      //   if(i===that.state.activeTab){\n      //     active = 'active';\n      //   }else{\n      //     active = '';\n      //   }\n      //   let dueDate = moment(item.due).utc().format('dddd, MMMM Do YYYY, hh:mm A');\n      //   return(\n      //     <TabContent key={i} vertical activeTab=\"{this.state.activeTab}\">\n      //     <TabPane tabId=\"{i}\" className={active}>\n      //       <Row>\n      //         <Col sm=\"12\">\n      //         <pre>\n      //         <code >\n      //         {/* {curTask.instructions} */}\n      //         <div dangerouslySetInnerHTML={{__html: ins}}></div>\n      //         </code>\n      //         </pre>\n      //         Status: {item.status}, Due: {dueDate}\n      //           {/* <h4>{curTask.instructions}</h4> */}\n      //         </Col>\n      //         <Col sm=\"12\">\n      //           <ButtonGroup>\n      //             <Button color=\"primary\" onClick={() => { that.showAddForm(); }}>Add</Button>\n      //             <Button color=\"primary\" onClick={that.openEditModal.bind(that, item)}>Update</Button>\n      //             <Button color=\"primary\" onClick={that.handleDelete.bind(that, item)}>Delete</Button>\n      //           </ButtonGroup>\n      //         </Col>\n      //       </Row>\n      //     </TabPane>\n      //     </TabContent>\n      // );\n      //})\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Title here\")), this.state.success && React.createElement(Alert, {\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Successfully Added\"), this.state.deleteError !== '' && React.createElement(Alert, {\n        color: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Error: \", this.state.deleteError), this.state.deleteSuccess && React.createElement(Alert, {\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Successfully Deleted\"), this.state.addForm ? React.createElement(ActionPanel, {\n        tasks: this.state.sampleTasks,\n        curTask: this.state.curTask,\n        state: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, listItems && listItems.length == 0 && React.createElement(Col, {\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, this.state.error !== '' ? React.createElement(Alert, {\n        color: \"danger\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, this.state.error) : React.createElement(Alert, {\n        color: \"warning\",\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"No results found\")), listItems && listItems.length > 0 && React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        vertical: true,\n        pills: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, listItems)), React.createElement(Col, {\n        sm: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(ViewPanel, {\n        tasks: this.state.tasks,\n        curTask: this.state.curTask,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }), React.createElement(Col, {\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: function onClick() {\n          _this3.showAddForm();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Add\"), React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.openEditModal.bind(this, task),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"Update\"), React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleDelete.bind(this, task),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, \"Delete\")))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/var/www/html/myapp/src/App.js"],"names":["React","Component","sampleTasks","Container","Row","Col","ButtonGroup","Button","ListGroup","ViewPanel","ActionPanel","TabContent","TabPane","Nav","NavItem","NavLink","Dropdown","DropdownItem","DropdownToggle","DropdownMenu","Alert","Progress","Form","FormGroup","Label","Input","config","App","props","state","tasks","curTask","mode","activeTab","loadingTasks","addForm","error","success","deleteError","deleteSuccess","taskName","dueDate","dueTime","status","instructions","editMode","toggle","bind","handleChange","handleSubmit","setState","i","curIns","tab","evt","target","name","value","event","preventDefault","method","url","API_URL","elements","slice","push","ele","filter","task","due","console","log","that","listItems","map","item","taskClick","length","showAddForm","openEditModal","handleDelete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport sampleTasks from './tasks1.json';\nimport logo from './logo.svg';\nimport './App.css';\nimport { Container,Row,Col,ButtonGroup,Button,ListGroup } from 'react-bootstrap';\nimport ViewPanel from './ViewPanel.js'\nimport ActionPanel from './ActionPanel.js'\n\n//import classnames from 'classnames';\n//import Prism from 'prismjs';\nimport \"./prism.css\";\n//import { HtmlRenderer, Parser } from 'commonmark';\nimport { \n    //Container,Row,Col,Jumbotron,\n    TabContent, TabPane,Nav, NavItem, NavLink,\n    Dropdown, DropdownItem, DropdownToggle, DropdownMenu, \n    Alert,Progress,\n    //ButtonGroup,Button,\n    Form, FormGroup, Label, Input,\n} from 'reactstrap';\nimport 'whatwg-fetch';\nimport config from './config.js';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state={\n      tasks:sampleTasks,\n      curTask:0,\n      mode:\"view\",\n      activeTab: 0,\n      //tasks:[],\n      loadingTasks: false,\n      addForm:false,\n      error:'',\n      success:false,\n      deleteError:'',\n      deleteSuccess:false,\n      taskName:'',\n      dueDate:'',\n      dueTime:'00:00',\n      status:'Open',\n      instructions:'',\n      editMode:false\n    }\n    \n    this.toggle = this.toggle.bind(this);\n    //this.showAddForm = this.showAddForm.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    \n  }\n\n  componentDidMount() {\n    //Prism.highlightAll();\n    \n    this.setState({ loadingTasks:true});\n\n    // let url = config.API_URL+'tasks';\n    // fetch(url,{}).then(res => res.json())\n    // .then(json => {\n    //   //console.log('enter',json);\n    //   this.setState({\n    //     tasks: json.tasks,\n    //     loadingTasks:false\n    //   });\n    // }, error =>{\n    //   this.setState({ \n    //     loadingTasks:false,\n    //     error: 'Network error!'  \n    //   });\n    //   console.log('err',error);\n    // });\n  }\n\n  taskClick(i){\n    let curIns =this.state.tasks[this.state.curTask].instructions;\n    this.setState(\n      {\n        curTask:i\n      });\n  }\n\n  toggle(tab) {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n  \n\n\n  \n\n  handleChange (evt) {\n    this.setState({ [evt.target.name]: evt.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();  \n    let method = 'POST';\n    let url = config.API_URL+'tasks/';\n    if(this.state.editMode){\n      method = 'PUT';\n      url = config.API_URL+'tasks/'+this.state.taskName;\n    }\n    \n    this.setState({\n      error: '',\n      success:false\n    });  \n        let elements = this.state.tasks.slice();\n        if(!this.state.editMode){\n          elements.push({\n            'task-name': this.state.taskName,\n            'due': this.state.dueDate+'T'+this.state.dueTime+':00.000Z',\n            'status': this.state.status,\n            'instructions': this.state.instructions\n          });\n        }else{\n            \n          // this.state.tasks.map(task => {\n          //     if(task[\"task-name\"] === this.state.taskName) {\n          //         //console.log('enter');\n          //         return (\n          //               { \n          //               \"task-name\": this.state.taskName,\n          //               due: this.state.dueDate+'T'+this.state.dueTime+':00.000Z',\n          //               status: this.state.status,\n          //               instructions: this.state.instructions\n          //             }\n          //         )\n          //     }\n          // });\n          let ele = this.state.tasks.filter((task) => {\n            return this.state.taskName !== task[\"task-name\"];\n          });  \n          ele.push({ \n            \"task-name\": this.state.taskName,\n            due: this.state.dueDate+'T'+this.state.dueTime+':00.000Z',\n            status: this.state.status,\n            instructions: this.state.instructions\n          })\n          elements = ele;\n          console.log(this.state.tasks);\n        }  \n        // this.setState({\n        //   success: true,\n        //   addForm:false,\n        //   tasks:elements\n        // });\n      \n  }\n\n  showAddForm(){\n    this.setState({\n      addForm: !this.state.addForm,\n      editMode:false,\n      taskName:'',\n      dueDate:'',\n      dueTime:'00:00',\n      status:'Open',\n      instructions:'',\n    });\n  }  \n  \n\n  render() {\n    //let curTask = this.state.tasks[this.state.activeTab];\n    //let curIns = this.state.tasks[this.state.activeTab].instructions;\n    let that=this;\n    let task= this.state.tasks[this.state.curTask];\n    \n    let listItems=this.state.tasks.map(function(item,i){\n      if(i===that.state.curTask){\n        return(\n        <ListGroup.Item\n        key={i}\n        active\n        action\n        onClick={that.taskClick.bind(that,i)}\n        >\n        {item[\"task-name\"]}\n        </ListGroup.Item>\n      );\n    }else{\n      return(\n      <ListGroup.Item key={i} action onClick={that.taskClick.bind(that,i)}>\n      {item[\"task-name\"]}\n      </ListGroup.Item>\n    );\n      } \n      // return(\n      //   <NavItem key={i}>\n      //     <NavLink\n      //       className={classnames({ active: that.state.activeTab === i })}\n      //       onClick={() => { that.toggle(i); }}\n      //     >\n      //       {item[\"task-name\"]}\n      //     </NavLink>\n      //   </NavItem>\n      // );\n    })\n    \n    // let parser = new Parser()\n    // let renderer = new HtmlRenderer()\n    \n    // let currentIns = renderer.render(parser.parse(this.state.instructions));\n    // let synHtml = Prism.highlight(currentIns, Prism.languages.markup, 'markup');\n\n    // let listTabs=this.state.tasks.map(function(item,i){\n    //   let ins = renderer.render(parser.parse(item.instructions));\n    //   let active = '';\n    //   if(i===that.state.activeTab){\n    //     active = 'active';\n    //   }else{\n    //     active = '';\n    //   }\n    //   let dueDate = moment(item.due).utc().format('dddd, MMMM Do YYYY, hh:mm A');\n      \n    //   return(\n    //     <TabContent key={i} vertical activeTab=\"{this.state.activeTab}\">\n    //     <TabPane tabId=\"{i}\" className={active}>\n    //       <Row>\n    //         <Col sm=\"12\">\n    //         <pre>\n    //         <code >\n    //         {/* {curTask.instructions} */}\n    //         <div dangerouslySetInnerHTML={{__html: ins}}></div>\n    //         </code>\n    //         </pre>\n    //         Status: {item.status}, Due: {dueDate}\n            \n    //           {/* <h4>{curTask.instructions}</h4> */}\n    //         </Col>\n    //         <Col sm=\"12\">\n    //           <ButtonGroup>\n    //             <Button color=\"primary\" onClick={() => { that.showAddForm(); }}>Add</Button>\n    //             <Button color=\"primary\" onClick={that.openEditModal.bind(that, item)}>Update</Button>\n    //             <Button color=\"primary\" onClick={that.handleDelete.bind(that, item)}>Delete</Button>\n    //           </ButtonGroup>\n    //         </Col>\n    //       </Row>\n    //     </TabPane>\n    //     </TabContent>\n    // );\n  //})\n\n    return(\n        <Container>\n          <Container><h1 className=\"text-center\">Title here</h1></Container>\n          {this.state.success && <Alert color=\"success\">Successfully Added</Alert>} \n          {this.state.deleteError !== '' && <Alert color=\"warning\">Error: {this.state.deleteError}</Alert>}\n          {this.state.deleteSuccess && <Alert color=\"success\">Successfully Deleted</Alert>}  \n\n          { this.state.addForm ?\n          <ActionPanel tasks={this.state.sampleTasks} curTask={this.state.curTask} state={this.state} />\n          :\n           \n          <div>\n          {/* { this.state.loadingTasks && \n            <Progress animated color=\"warning\" value=\"100\" />\n          }\n          */}\n          { listItems && listItems.length == 0 &&\n            <Col sm=\"12\">\n            {this.state.error !== '' ?\n              <Alert color=\"danger\" className=\"text-center\">{this.state.error}</Alert>\n              :\n              <Alert color=\"warning\" className=\"text-center\">No results found</Alert>\n            }\n            \n            {/* <Button color=\"primary\" onClick={() => { that.showAddForm(); }}>Add</Button> */}\n            </Col>\n          }\n\n          { listItems && listItems.length > 0 &&\n            <Row>\n            <Col sm=\"3\">\n              <Nav vertical pills>\n                {listItems}\n              </Nav>\n            </Col>\n            <Col sm=\"9\">\n              <ViewPanel tasks={this.state.tasks} curTask={this.state.curTask} />\n              {/* <Jumbotron>\n                {listTabs}\n              </Jumbotron> */}\n              <Col sm=\"12\">\n                <ButtonGroup>\n                  <Button color=\"primary\" onClick={() => { this.showAddForm(); }}>Add</Button>\n                  <Button color=\"primary\" onClick={this.openEditModal.bind(this, task)}>Update</Button>\n                  <Button color=\"primary\" onClick={this.handleDelete.bind(this, task)}>Delete</Button>\n                </ButtonGroup>\n              </Col>\n            </Col>\n            </Row>}\n            </div>\n          }\n        </Container>\n\n        \n    );\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}